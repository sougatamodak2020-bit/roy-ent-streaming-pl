<!DOCTYPE html>
<html>
<head>
    <title>Database Test</title>
</head>
<body>
    <h1>Testing Database Access</h1>
    <div id="result"></div>
    
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.39.0/dist/umd/supabase.min.js"></script>
    <script>
        const SUPABASE_URL = 'https://kahsbllunfmoilgihfgo.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImthaHNibGx1bmZtb2lsZ2loZmdvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIzNDMxNzQsImV4cCI6MjA3NzkxOTE3NH0.iZN9BgyI6CnwE_HRtJqinm29009c6tkDLlJs7se5E0k';
        
        const client = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
        
        async function test() {
            const result = document.getElementById('result');
            
            try {
                const { data, error } = await client
                    .from('movies')
                    .select('*')
                    .limit(3);
                
                if (error) {
                    result.innerHTML = `<h2 style="color:red">ERROR: ${error.message}</h2>`;
                    console.error('Full error:', error);
                } else {
                    result.innerHTML = `
                        <h2 style="color:green">SUCCESS! Found ${data.length} movies</h2>
                        <pre>${JSON.stringify(data, null, 2)}</pre>
                    `;
                }
            } catch (err) {
                result.innerHTML = `<h2 style="color:red">EXCEPTION: ${err.message}</h2>`;
            }
        }
        
        test();
    </script>
</body>
</html>